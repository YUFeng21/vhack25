import t from"agentkeepalive";import{z as e}from"zod";import r from"axios";import n from"axios-retry";function o(){return o=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},o.apply(this,arguments)}function a(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,i(t,e)}function i(t,e){return i=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(t,e){return t.__proto__=e,t},i(t,e)}function s(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function l(t,e){var r="undefined"!=typeof Symbol&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=function(t,e){if(t){if("string"==typeof t)return s(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?s(t,e):void 0}}(t))||e&&t&&"number"==typeof t.length){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function u(e){return void 0===e&&(e={maxFreeSockets:10,freeSocketTimeout:2e4}),new t(e)}function c(e){return void 0===e&&(e={maxFreeSockets:10,freeSocketTimeout:2e4}),new t.HttpsAgent(e)}var p=/*#__PURE__*/function(){function t(t){var e=t.baseURL,o=t.apikey,a=t.projectId,i=t.maxRetries,s=void 0===i?0:i,l=t.httpClient,p=t.timeout;this.maxRetries=void 0,this.httpClient=void 0,this.timeout=void 0,this.maxRetries=s,this.httpClient=l||r.create({}),this.timeout=p,this.httpClient.defaults.baseURL=e||"https://app.jamaibase.com",o&&a&&this.setApiKeyProjId(o,a),this.timeout&&(this.httpClient.defaults.timeout=this.timeout),s>0&&n(this.httpClient,{retries:this.maxRetries,retryDelay:function(t){return console.log("Retry attempt: ",t),1e3*t},retryCondition:function(t){return!0}}),this.httpClient.defaults.httpAgent=u(),this.httpClient.defaults.httpsAgent=c()}var e=t.prototype;return e.setHttpagentConfig=function(t){this.httpClient.defaults.httpAgent=u(t)},e.setHttpsagentConfig=function(t){this.httpClient.defaults.httpsAgent=c(t)},e.getHealth=function(){try{return Promise.resolve(this.httpClient.get("/health"))}catch(t){return Promise.reject(t)}},e.setApiKeyProjId=function(t,e){this.httpClient.defaults.headers.common.Authorization="Bearer "+t,this.httpClient.defaults.headers.common["x-project-id"]=e},e.setAuthHeader=function(t){this.httpClient.defaults.headers.common.Authorization=t},t}(),d=e.enum(["system","user","assistant","function"]),m=e.object({role:d,content:e.string(),name:e.string().optional().nullable()}),b=e.object({search_query:e.string().optional(),k:e.number().optional(),fetch_k:e.number().optional(),document_ids:e.array(e.string()).optional(),rank_profile:e.enum(["bm25","semantic","hybrid","hybrid_log"]).optional(),rerank:e.boolean().optional(),concat_reranker_input:e.boolean().optional()}),f=e.object({name:e.string(),description:e.string().optional(),parameters:e.record(e.string(),e.any())}),h=e.object({type:e.string().optional(),function:f});e.object({name:e.string()});var _=e.object({prompt_tokens:e.number().nullable().optional(),completions_tokens:e.number().nullable().optional(),total_tokens:e.number().nullable().optional()}),g=e.object({id:e.string().optional(),model:e.string().optional(),messages:e.array(m),rag_params:b.nullable().optional(),tools:e.array(h).nullable().optional(),tool_choice:e.union([e.string(),h]).nullable().optional(),temperature:e.number().optional().default(1).optional(),top_p:e.number().optional().default(1).optional(),n:e.number().optional().default(1).optional(),stop:e.array(e.string()).optional(),max_tokens:e.number().default(2048).optional(),presence_penalty:e.number().optional().default(0).optional(),frequency_penalty:e.number().optional().default(0).optional(),logit_bias:e.record(e.string(),e.any()).default({}).optional(),user:e.string().default("").optional()}),v=e.object({message:m,index:e.number(),finish_reason:e.string().nullable()}),y=e.object({message:m,index:e.number(),finish_reason:e.string().nullable(),delta:m.nullable()}),P=e.object({object:e.string()}),j=e.object({id:e.string(),object:e.enum(["chat.completion","chat.completion.chunk"]),created:e.number(),model:e.string(),usage:_.optional(),choices:e.union([e.array(v),e.array(y)]),references:P.nullable().optional()});function w(t){return e.object({items:e.array(t).describe("List of items paginated items.").default([]),offset:e.number().describe("Number of skipped items.").default(0),limit:e.number().describe("Number of items per page.").default(100),total:e.number().describe("Total number of items.").default(0)}).and(e.record(e.string(),e.any()))}e.object({id:e.string(),object:e.enum(["chat.completion.chunk"]),created:e.number(),model:e.string(),usage:_,choices:e.array(y),references:P.nullable().optional()});var C=e.object({offset:e.number().describe("Number of skipped items.").default(0),limit:e.number().describe("Number of items per page.").default(100)}),S=e.enum(["action","knowledge","chat"]),E=e.string().regex(/^[a-zA-Z0-9][a-zA-Z0-9_ \-]{0,98}[a-zA-Z0-9]$/,"Invalid Name"),R=e.enum(["int","int8","float","float64","float32","float16","bool","str","date-time","file","bytes"]),k=e.object({id:e.string(),dtype:R.default("str").optional(),vlen:e.number().int().gte(0).default(0).optional(),index:e.boolean().default(!0).optional(),gen_config:e.union([g.partial(),e.null()]).optional()});C.extend({parent_id:e.union([e.string(),e.null()]).optional()}).partial().extend({table_type:S});var O=e.object({id:e.string(),cols:e.array(k),parent_id:e.union([e.string(),e.null()]),title:e.string(),lock_till:e.union([e.number(),e.null()]).optional(),updated_at:e.string(),indexed_at_fts:e.union([e.string(),e.null()]),indexed_at_vec:e.union([e.string(),e.null()]),indexed_at_sca:e.union([e.string(),e.null()]),num_rows:e.number().int()});e.object({table_type:S,table_id:E}),C.extend({table_type:S,table_id:E,columns:e.array(E).nullable().optional()}).partial();var x=e.record(E,e.any());e.object({table_type:S,table_id:E,row_id:e.string(),columns:e.array(E).nullable().optional()});var A=e.record(E,e.any()),N=w(x),T=w(O),z=e.object({ok:e.boolean().default(!0)});e.object({table_type:S,table_id:E}),e.object({table_type:S,table_id_src:E,table_id_dst:E}),e.object({table_type:S,table_id_src:E,table_id_dst:E,include_data:e.boolean().optional(),deploy:e.boolean().optional()}),e.object({table_type:S,table_id:E,column_map:e.record(E,E)}),e.object({table_type:S,table_id:E,column_names:e.array(E)}),e.object({id:e.string().regex(/^[a-zA-Z0-9][a-zA-Z0-9_ \-]{0,98}[a-zA-Z0-9]$/),cols:e.array(k)}),e.object({table_type:S,table_id:E,column_map:e.record(E,e.record(e.any(),e.any()))}),e.object({table_type:S,table_id:E,row_id:e.string()}),e.object({table_type:S,reindex:e.boolean().default(!0).optional(),table_id:E,data:e.record(E,e.any())}),e.object({table_type:S,table_id:E,row_id:e.string()}),e.object({table_type:S,table_id:E,row_id:E,data:e.record(E,e.any())}),e.object({table_type:S,table_id:E,where:e.string().optional()}),e.object({table_type:S,table_id:E,query:e.string(),where:e.string().nullable().optional(),limit:e.number().gt(0).lte(1e3).optional(),metric:e.string().optional(),nprobes:e.number().gt(0).lte(1e3).optional(),refine_factor:e.number().gt(0).lte(1e3).optional(),reranking_model:e.string().nullable().optional()});var D=e.array(e.any());e.object({id:e.string().regex(/^[a-zA-Z0-9][a-zA-Z0-9_ \-]{0,98}[a-zA-Z0-9]$/),cols:e.array(k)}),e.object({table_id:E});var I=e.object({object:e.enum(["chat.thread"]).describe("Type of API response object."),thread:e.array(m).describe("List of chat messages.").default([])}),$=e.object({object:e.enum(["gen_table.completion.chunks"]),columns:e.record(e.string(),j),row_id:e.string()});j.extend({output_column_name:e.string(),row_id:e.string()}),P.extend({object:e.enum(["gen_table.reference"]),output_column_name:e.string()});var q=["table_type"],Z=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var r=e.prototype;return r.listTables=function(t){var e=t.table_type,r=t.limit,n=void 0===r?100:r,o=t.offset,a=void 0===o?0:o,i=t.parent_id;try{var s="/api/v1/gen_tables/"+e+"?offset="+a+"&limit="+n;return i&&(s=s+"&parent_id="+i),Promise.resolve(this.httpClient.get(s)).then(function(t){return new Promise(function(e,r){200==t.status?e(T.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.getTable=function(t){try{return Promise.resolve(this.httpClient.get("/api/v1/gen_tables/"+t.table_type+"/"+t.table_id)).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.listRows=function(t){var e=t.columns,r=t.limit,n=void 0===r?100:r,o=t.offset,a=void 0===o?0:o,i=t.table_id,s=t.table_type;try{var l="/api/v1/gen_tables/"+s+"/"+i+"/rows?offset="+a+"&limit="+n;return e&&(l=l+"&"+e.map(function(t){return"columns="+encodeURIComponent(t)}).join("&")),Promise.resolve(this.httpClient.get(l)).then(function(t){return new Promise(function(e,r){200==t.status?e(N.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.getRow=function(t){try{var e="/api/v1/gen_tables/"+t.table_type+"/"+t.table_id+"/rows/"+t.row_id;return t.columns&&(e=e+"?"+t.columns.map(function(t){return"columns="+encodeURIComponent(t)}).join("&")),Promise.resolve(this.httpClient.get(e)).then(function(t){return new Promise(function(e,r){200==t.status?e(A.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.getConversationThread=function(t){try{return Promise.resolve(this.httpClient.get("/api/v1/gen_tables/chat/"+t.table_id+"/thread?table_id="+t.table_id)).then(function(t){return new Promise(function(e,r){200==t.status?e(I.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.createActionTable=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/action",o({},t,{stream:!1}),{})).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.createChatTable=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/chat",t)).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.createKnowledgeTable=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/knowledge",t)).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.deleteTable=function(t){try{return Promise.resolve(this.httpClient.delete("/api/v1/gen_tables/"+t.table_type+"/"+t.table_id)).then(function(t){return new Promise(function(e,r){200==t.status?e(z.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.deleteRow=function(t){try{return Promise.resolve(this.httpClient.delete("/api/v1/gen_tables/"+t.table_type+"/"+t.table_id+"/rows/"+t.row_id)).then(function(t){return new Promise(function(e,r){200==t.status?e(z.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.deleteRows=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+t.table_type+"/rows/delete",{table_id:t.table_id,where:t.where})).then(function(t){return new Promise(function(e,r){200==t.status?e(z.parse({ok:!0})):(console.error("Received Error Status: ",t.status),e(z.parse({ok:!1})))})})}catch(t){return Promise.reject(t)}},r.renameTable=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+t.table_type+"/rename/"+t.table_id_src+"/"+t.table_id_dst,{},{})).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.duplicateTable=function(t){var e=t.table_id_dst,r=t.table_id_src,n=t.table_type,o=t.include_data,a=void 0===o||o,i=t.deploy,s=void 0!==i&&i;try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+n+"/duplicate/"+r+"/"+e+"?include_data="+a+"&deploy="+s,{},{})).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.renameColumns=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+t.table_type+"/columns/rename",{table_id:t.table_id,column_map:t.column_map},{})).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.reorderColumns=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+t.table_type+"/columns/reorder",{table_id:t.table_id,column_names:t.column_names},{})).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.dropColumns=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+t.table_type+"/columns/drop",{table_id:t.table_id,column_names:t.column_names},{})).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.addActionColumns=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/action/columns/add",t)).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.addKnowledgeColumns=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/knowledge/columns/add",t)).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.addChatColumns=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/chat/columns/add",t)).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.updateGenConfig=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+t.table_type+"/gen_config/update",{table_id:t.table_id,column_map:t.column_map},{})).then(function(t){return new Promise(function(e,r){200==t.status?e(O.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.addRowStream=function(t){var e=t.table_id,r=t.table_type,n=t.data,o=t.reindex,a=void 0===o||o;try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+r+"/rows/add",{table_id:e,data:n,stream:!0},{responseType:"stream",params:{reindex:a}})).then(function(t){if(200!=t.status)throw new Error("Received Error Status: "+t.status);var e=new ReadableStream({start:function(e){try{return t.data.on("data",function(t){if((t=t.toString()).endsWith("\n\n"))for(var r,n=l(t.split("\n\n").filter(function(t){return t.trim()}).flatMap(function(t){return t.split("\n")}));!(r=n()).done;){var o=r.value.toString().replace(/^data: /,"").replace(/data: \[DONE\]\s+$/,"");if("[DONE]"==o.trim())return;try{var a=JSON.parse(o);e.enqueue(a)}catch(t){console.error("Error parsing:",o);continue}}else{var i=t.toString().replace(/^data: /,"").replace(/data: \[DONE\]\s+$/,"");if("[DONE]"==i.trim())return;try{var s=JSON.parse(i);e.enqueue(s)}catch(t){console.error("Error parsing:",i)}}}),t.data.on("error",function(t){console.error("error: ",t)}),t.data.on("end",function(){e.close()}),Promise.resolve()}catch(t){return Promise.reject(t)}}});return e})}catch(t){return Promise.reject(t)}},r.addRow=function(t){var e=t.table_id,r=t.table_type,n=t.data,o=t.reindex,a=void 0===o||o;try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+r+"/rows/add",{table_id:e,stream:!1,data:n},{params:{reindex:a}})).then(function(t){return new Promise(function(e,r){200==t.status?e($.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.regenRowStream=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+t.table_type+"/rows/regen",{table_id:t.table_id,row_id:t.row_id,stream:!0},{responseType:"stream"})).then(function(t){if(200!=t.status)throw new Error("Received Error Status: "+t.status);return new ReadableStream({start:function(e){try{return t.data.on("data",function(t){if((t=t.toString()).endsWith("\n\n"))for(var r,n=l(t.split("\n\n").filter(function(t){return t.trim()}).flatMap(function(t){return t.split("\n")}));!(r=n()).done;){var o=r.value.toString().replace(/^data: /,"").replace(/data: \[DONE\]\s+$/,"");if("[DONE]"==o.trim())return;try{var a=JSON.parse(o);e.enqueue(a)}catch(t){console.error("Error parsing:",o);continue}}else{var i=t.toString().replace(/^data: /,"").replace(/data: \[DONE\]\s+$/,"");if("[DONE]"==i.trim())return;try{var s=JSON.parse(i);e.enqueue(s)}catch(t){console.error("Error parsing:",i)}}}),t.data.on("error",function(t){console.error("error: ",t)}),t.data.on("end",function(){e.close()}),Promise.resolve()}catch(t){return Promise.reject(t)}}})})}catch(t){return Promise.reject(t)}},r.regenRow=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+t.table_type+"/rows/regen",{table_id:t.table_id,row_id:t.row_id,stream:!1},{})).then(function(t){return new Promise(function(e,r){200==t.status?e($.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.updateRow=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/gen_tables/"+t.table_type+"/rows/update",{table_id:t.table_id,row_id:t.row_id,data:t.data})).then(function(t){return new Promise(function(e,r){200==t.status?e(z.parse({ok:!0})):(console.error("Received Error Status: ",t.status),e(z.parse({ok:!1})))})})}catch(t){return Promise.reject(t)}},r.hybridSearch=function(t){try{var e="/api/v1/gen_tables/"+t.table_type+"/hybrid_search",r=function(t,e){if(null==t)return{};var r,n,o={},a=Object.keys(t);for(n=0;n<a.length;n++)e.indexOf(r=a[n])>=0||(o[r]=t[r]);return o}(t,q);return Promise.resolve(this.httpClient.post(e,r)).then(function(t){return new Promise(function(e,r){200==t.status?e(D.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.uploadFile=function(t){try{var e=this,r=new FormData;return r.append("file",t.file),r.append("file_name",t.file_name),r.append("table_id",t.table_id),null!=t&&t.chunk_size&&r.append("chunk_size",t.chunk_size.toString()),null!=t&&t.chunk_overlap&&r.append("chunk_overlap",t.chunk_overlap.toString()),Promise.resolve(function(t,n){try{var o=Promise.resolve(e.httpClient.post("/api/v1/gen_tables/knowledge/upload_file",r,{headers:{"Content-Type":"multipart/form-data"}})).then(function(t){return t.data})}catch(t){return n(t)}return o&&o.then?o.then(void 0,n):o}(0,function(t){throw console.error("Error uploading file:",t),t}))}catch(t){return Promise.reject(t)}},e}(p);e.object({model:e.string().optional(),capabilities:e.enum(["completion","chat","image","embed","rerank"]).nullable().optional()});var J=e.object({id:e.string().default("openai/gpt-3.5-turbo"),object:e.string(),name:e.string(),context_length:e.number().default(16384),languages:e.array(e.string()),capabilities:e.array(e.enum(["completion","chat","image","embed","rerank"])).default(["chat"]),created:e.number(),owned_by:e.string()}),H=e.object({object:e.enum(["chat.model_info"]),data:e.array(J)});e.object({prefer:e.string().optional(),capabilities:e.enum(["completion","chat","image","embed","rerank"]).nullable().optional()});var U,F=e.array(e.string()),K=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}a(e,t);var r=e.prototype;return r.modelInfo=function(t){try{return Promise.resolve(this.httpClient.get("/api/v1/models",{params:t})).then(function(t){return new Promise(function(e,r){200==t.status?e(H.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.modelNames=function(t){try{return Promise.resolve(this.httpClient.get("/api/v1/model_names",{params:t})).then(function(t){return new Promise(function(e,r){200==t.status?e(F.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},r.generateChatCompletionsStream=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/chat/completions",o({},t,{stream:!0}),{responseType:"stream"})).then(function(t){return new ReadableStream({start:function(e){try{return t.data.on("data",function(t){if((t=t.toString()).endsWith("\n\n"))for(var r,n=l(t.split("\n\n").filter(function(t){return t.trim()}).flatMap(function(t){return t.split("\n")}));!(r=n()).done;){var o=r.value.toString().replace(/^data: /,"").replace(/data: \[DONE\]\s+$/,"");if("[DONE]"==o.trim())return;try{var a=JSON.parse(o);e.enqueue(a)}catch(t){console.error("Error parsing:",o);continue}}else{var i=t.toString().replace(/^data: /,"").replace(/data: \[DONE\]\s+$/,"");if("[DONE]"==i.trim())return;try{var s=JSON.parse(i);e.enqueue(s)}catch(t){console.error("Error parsing:",i)}}}),t.data.on("error",function(t){console.error("error: ",t)}),t.data.on("end",function(){e.close()}),Promise.resolve()}catch(t){return Promise.reject(t)}}})})}catch(t){return Promise.reject(t)}},r.generateChatCompletions=function(t){try{return Promise.resolve(this.httpClient.post("/api/v1/chat/completions",o({},t,{stream:!1}),{})).then(function(t){return new Promise(function(e,r){200==t.status?e(j.parse(t.data)):console.error("Received Error Status: ",t.status)})})}catch(t){return Promise.reject(t)}},e}(p),L=/*#__PURE__*/function(t){function e(){return t.apply(this,arguments)||this}return a(e,t),e}(p);U=L,[Z,K].forEach(function(t){Object.getOwnPropertyNames(t.prototype).forEach(function(e){Object.defineProperty(U.prototype,e,Object.getOwnPropertyDescriptor(t.prototype,e)||Object.create(null))})});export{L as default};
